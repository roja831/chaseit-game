<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ROUND 3 - CHASE IT</title>
<link href="https://fonts.googleapis.com/css2?family=Audiowide&family=Orbitron:wght@700&family=Rajdhani:wght@700&display=swap" rel="stylesheet">
<style>
  * { margin:0; padding:0; box-sizing:border-box; font-family:'Orbitron', sans-serif; }
  body {
    height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    background:#0a0a0a;
    overflow:hidden;
    color:#fff;
    position:relative;
  }

  /* ===== CANVAS BACKGROUND ===== */
  canvas#bgCanvas { position:absolute; top:0; left:0; width:100%; height:100%; z-index:0; }

  /* ===== GLASS PANEL ===== */
  .container {
    position:relative;
    z-index:1;
    background: rgba(25,25,35,0.9);
    border-radius:25px;
    padding:50px 40px;
    width:400px;
    text-align:center;
    box-shadow: 0 20px 60px rgba(0,0,0,0.7);
    backdrop-filter: blur(15px);
    border:1px solid rgba(255,255,255,0.05);
    animation: fadeIn 1s ease forwards;
  }

  /* ===== LOGO ===== */
  .logo {
    width:140px;
    height:140px;
    margin:0 auto 25px;
    border-radius:50%;
    background: url('images/logo.jpg') no-repeat center/contain;
    box-shadow: 0 0 25px rgba(0,255,255,0.3);
    animation: popIn 0.8s ease forwards;
  }

  /* ===== TITLE ===== */
h1.title {
    font-family: 'Orbitron', sans-serif; /* or 'Audiowide' or 'Rajdhani' */
    font-size: 2.6rem; /* slightly bigger for impact */
    margin-bottom: 30px;
    color: #00d4ff;
    letter-spacing: 2px; /* more spaced for a techy feel */
}

  /* ===== INPUTS ===== */
  input[type="text"], input[type="password"] {
    width:100%;
    padding:15px 20px;
    margin:10px 0 25px;
    border:none;
    border-radius:15px;
    background: rgba(30,30,45,0.7);
    color:#fff;
    font-size:1rem;
    box-shadow: inset 0 0 12px rgba(0,212,255,0.25);
    transition: all 0.3s ease;
  }
  input:focus {
    outline:none;
    box-shadow: 0 0 18px rgba(0,212,255,0.7);
  }

  /* ===== BUTTON ===== */
  button {
    width:100%;
    padding:16px;
    border:none;
    border-radius:15px;
    background: linear-gradient(135deg,#00d4ff,#0088ff);
    font-size:1.1rem;
    font-weight:700;
    color:#000;
    cursor:pointer;
    text-transform: uppercase;
    box-shadow: 0 8px 30px rgba(0,0,0,0.6);
    transition: all 0.3s ease;
  }
  button:hover {
    transform: scale(1.06);
    box-shadow: 0 10px 40px rgba(0,212,255,0.8);
  }

  /* ===== NOTE & LINKS ===== */
  .note {
    margin-top:20px;
    font-size:0.9rem;
    color:#aaa;
  }
  .admin-link {
    display:inline-block;
    margin-top:15px;
    color:#00d4ff;
    text-decoration:none;
    font-weight:500;
    transition: all 0.3s ease;
  }
  .admin-link:hover { color:#0088ff; text-decoration:underline; }

  /* ===== ANIMATIONS ===== */
  @keyframes fadeIn { 0%{opacity:0; transform:translateY(-20px);} 100%{opacity:1; transform:translateY(0);} }
  @keyframes popIn { 0%{opacity:0; transform:scale(0.5);} 100%{opacity:1; transform:scale(1);} }
</style>
</head>
<body>
<canvas id="bgCanvas"></canvas>
<div class="container">
  <div class="logo" aria-label="Logo"></div>
  <h1 class="title">ROUND 3  CHASE IT</h1>
  <input id="teamName" type="text" placeholder="Enter your team name" autocomplete="off" />
  <input id="gameCode" type="text" placeholder="Enter game code (e.g. chase123)" autocomplete="off" />
  <button id="joinBtn">Join Game</button>
  <p class="note">Use game code <strong>chase123</strong> to join.</p>
  <a href="admin.html" class="admin-link">Admin Panel</a>
</div>

<script src="/socket.io/socket.io.js"></script>
<script>
const socket = io();
const joinBtn = document.getElementById('joinBtn');
const teamNameInput = document.getElementById('teamName');
const gameCodeInput = document.getElementById('gameCode');

joinBtn.addEventListener('click', () => {
  const teamName = teamNameInput.value.trim();
  const gameCode = gameCodeInput.value.trim();
  if(!teamName || !gameCode){
    alert("Please enter both team name and game code!");
    return;
  }
  joinBtn.disabled = true;
  joinBtn.textContent = "Joining...";
  socket.emit('joinTeam', { name: teamName, level: 1, gameCode });
});

socket.on('teamInfo', (data) => {
  const teamName = teamNameInput.value.trim();
  localStorage.setItem('logicshift_teamName', teamName);
  window.location.href = "waiting.html?team=" + encodeURIComponent(teamName) + "&level=1";
});

socket.on('joinError', (data) => {
  alert(data.message);
  joinBtn.disabled = false;
  joinBtn.textContent = "Join Game";
});
[teamNameInput, gameCodeInput].forEach(input => {
  input.addEventListener('keypress', e => {
    if(e.key==='Enter') joinBtn.click();
  });
});

/* ===== HIGH-LEVEL TECH BACKGROUND ===== */
const canvas = document.getElementById('bgCanvas');
const ctx = canvas.getContext('2d');
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

const particles = [];
const particleCount = 120;
const mouse = { x:null, y:null };

for(let i=0;i<particleCount;i++){
  particles.push({
    x: Math.random()*canvas.width,
    y: Math.random()*canvas.height,
    size: Math.random()*2+1,
    speedX: (Math.random()-0.5)*0.5,
    speedY: (Math.random()-0.5)*0.5
  });
}

canvas.addEventListener('mousemove', e=>{ mouse.x=e.clientX; mouse.y=e.clientY; });

function draw(){
  ctx.clearRect(0,0,canvas.width,canvas.height);

  // glowing 3D grid
  const step = 60;
  ctx.strokeStyle='rgba(0,212,255,0.08)';
  ctx.lineWidth=1;
  for(let x=0;x<canvas.width;x+=step){
    ctx.beginPath(); ctx.moveTo(x,0); ctx.lineTo(x,canvas.height); ctx.stroke();
  }
  for(let y=0;y<canvas.height;y+=step){
    ctx.beginPath(); ctx.moveTo(0,y); ctx.lineTo(canvas.width,y); ctx.stroke();
  }

  // draw particles
  particles.forEach(p=>{
    ctx.beginPath();
    ctx.arc(p.x,p.y,p.size,0,Math.PI*2);
    ctx.fillStyle='rgba(0,212,255,0.7)';
    ctx.fill();

    // move particles
    p.x += p.speedX;
    p.y += p.speedY;

    // mouse repulsion
    if(mouse.x && mouse.y){
      let dx = p.x - mouse.x;
      let dy = p.y - mouse.y;
      let dist = Math.sqrt(dx*dx + dy*dy);
      if(dist<100){
        p.x += dx/dist*2;
        p.y += dy/dist*2;
      }
    }

    // wrap around edges
    if(p.x>canvas.width) p.x=0;
    if(p.x<0) p.x=canvas.width;
    if(p.y>canvas.height) p.y=0;
    if(p.y<0) p.y=canvas.height;
  });

  requestAnimationFrame(draw);
}
draw();

window.addEventListener('resize', ()=>{
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
});
</script>
</body>
</html>
